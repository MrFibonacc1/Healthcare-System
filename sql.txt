CREATE TABLE Member (
    id SERIAL PRIMARY KEY,
    full_name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    gender VARCHAR(100),
	plan VARCHAR(100) NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Admin (
    id SERIAL PRIMARY KEY,
    full_name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL
);

INSERT INTO Admin (full_name, email, password_hash) 
VALUES ('a', 'a', '$2b$10$qnhtaSzvoqvQeuxq.3mpLOffeqdnLv8HdjCRmIuW6iWQKSog6opZG');


CREATE TABLE Trainer (
    id SERIAL PRIMARY KEY,
    full_name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL
);

INSERT INTO Profile (entity_type, full_name, email) 
VALUES ('Admin', 'a', 'a');


CREATE TABLE Profile (
    profile_id SERIAL PRIMARY KEY,
    entity_type VARCHAR(20) NOT NULL, 
    full_name VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
    country VARCHAR(50),
	weight_KG INT,
	height_cm INT,
	BMI INT,
    stepGoal INT
);

CREATE TABLE healthTracker (
    id SERIAL PRIMARY KEY,
    profile_id INT REFERENCES Profile(profile_id),
    Date DATE,
    calsEaten INT,
    calsBurnt INT,
    steps INT
);

CREATE TABLE Equipment (
    id SERIAL PRIMARY KEY,
    equipment_name VARCHAR(255) NOT NULL,
    description TEXT
);

CREATE TABLE Rooms (
    id SERIAL PRIMARY KEY,
    room_name VARCHAR(255) NOT NULL,
    location VARCHAR(255) NOT NULL,
    size INT NOT NULL,
    description TEXT
);

CREATE TABLE sessions (
    id SERIAL PRIMARY KEY,
    trainer_id INT NOT NULL,
    name VARCHAR(100) NOT NULL,
    location VARCHAR(255) NOT NULL,
    size INT NOT NULL,
    description TEXT,
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    date DATE NOT NULL,
    FOREIGN KEY (trainer_id) REFERENCES Profile(profile_id)
);

CREATE TABLE equipbooking (
    session_id INT,
    equipment_id INT,
    FOREIGN KEY (session_id) REFERENCES sessions(id),
    FOREIGN KEY (equipment_id) REFERENCES Equipment(id),
    PRIMARY KEY (session_id, equipment_id)
);

